<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    height: 50px;
    border-radius: 50%;
    border: 2px solid #fff;
    cursor: pointer;
    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.5);
    }
    </style>
</head>

<body>

    <div id="ui-container">
        <button class="btn-cor" style="background-color: #FF0000;" onclick="mudarCor('#FF0000')"></button>
        <button class="btn-cor" style="background-color: #0000FF;" onclick="mudarCor('#0000FF')"></button>
        <button class="btn-cor" style="background-color: #00FF00;" onclick="mudarCor('#00FF00')"></button>
    </div>

    <a-scene embedded arjs="sourceType: webcam;" renderer="colorManagement: true; physicallyCorrectLights: true;">

        <a-assets>
            /*
            Função para alterar a cor do objeto 3D.
            */
            function mudarCor(novaCor) {
            const produto = document.querySelector('#produto-3d');

            if (produto) {
            // PARA MODELOS 3D (GLB/GLTF):
            // É necessário acessar a malha (mesh) interna do modelo para alterar o material.
            const mesh = produto.getObject3D('mesh');

            if (mesh) {
            mesh.traverse((node) => {
            if (node.isMesh) {
            // Verifica se o material existe antes de tentar mudar a cor
            if (node.material) {
            // Clona o material para não afetar outros objetos que usem o mesmo material (boa prática)
            // node.material = node.material.clone();
            // No caso simples, podemos mudar direto:
            node.material.color.set(novaCor);
            }
            }
            });
            } else {
            console.warn('Mesh ainda não carregada ou não encontrada.');
            }
            }
            }
            </script>
</body>

</html>